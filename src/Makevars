# RcppICA Makevars - Unix/macOS configuration

# C++ standard
CXX_STD = CXX17

# Include paths for RcppEigen and package headers
# Optimization flags:
#   - EIGEN_NO_DEBUG: Disable debug checks for production performance
#   - EIGEN_USE_BLAS: Delegate matrix operations to vendor BLAS (Accelerate/MKL/OpenBLAS)
#   - NDEBUG: Standard C++ optimization flag
# Removed: EIGEN_INITIALIZE_MATRICES_BY_ZERO (adds 5-10% overhead)
PKG_CXXFLAGS = $(SHLIB_OPENMP_CXXFLAGS) \
    -I../inst/include \
    -DEIGEN_NO_DEBUG \
    -DEIGEN_USE_BLAS \
    -DNDEBUG

# Link against OpenMP, BLAS, LAPACK
PKG_LIBS = $(SHLIB_OPENMP_CXXFLAGS) $(LAPACK_LIBS) $(BLAS_LIBS) $(FLIBS)
